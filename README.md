![](tickets/topology.png)

## Описание конкурсного задания
Компания «SkillsCloud» является лидером на рынке разработки прикладных программных интерфейсов для анализа данных автоматизированных систем управления технологическими процессами. В 2021 году, с целью снижения капитальных затрат на содержание собственной информационной инфраструктуры, компания реализовывает пилотный проект по переходу на модель «инфраструктура как сервис» (IaaS) и тестирует размещение своих программных продуктов на инфраструктуре публичного облака Microsoft Azure, а также проводит отбор кандидатов для дальнейшей работы над данным проектом.  

В рамках практических испытаний, кандидатам будет предложено обеспечить работу мульти-региональной отказоустойчивой инфраструктуры для функционирования специализированного веб-приложения. 

Данная инфраструктура предполагает размещение приложения в нескольких регионах присутствия основного заказчика. На границе глобальной и приватной сети каждого региона развернута специализированная виртуальная платформа для управления сетевым трафиком. В приватной сети каждого региона — виртуальная платформа для размещения приложения.  

С точки зрения внешних систем, данное веб-приложение должно быть доступно через единую точку входа — https://app.prefix.az.skillscloud.company (где prefix — индивидуальный идентификатор кандидата). Для обеспечения должного уровня отказоустойчивости всей системы, ко всем элементам инфраструктуры введены специальные требования, в соответствии с техническим заданием.

### Техническое задание

#### Общие требования
- при выходе из строя одного (или нескольких) экземпляров приложения (в том числе, при отказе одной или нескольких регионов или зон доступности), простой времени доступа к приложению не должен превышать 10 секунд;
- всех входящие запросы к приложению из глобальной сети должны приниматься только с применением защищенных протоколов уровня приложения.

#### Пограничные платформы управления трафиком должны:
- обеспечивать полный доступ в глобальную сеть интернет для соответствующей региональной частной подсети; 
- обеспечивать доступ к соответствующему региональному экземпляру веб-приложения для любых внешних систем; 
- обеспечивать полную сетевую связность между региональными частными подсетями. 

#### Платформы для размещения приложения должны:
- обеспечивать работу приложения и всех его функциональных зависимостей (описанных в документации к приложению); 
- перенаправлять входящие запросы по незащищенному протоколу прикладного уровня на адрес основной точки входа; 
- распределять входящие запросы между остальными региональными экземплярами приложения в случае, если локальный экземпляр приложения неисправен (возвращает HTTP код 5XX); 
- реализовывать необходимые механизмы для автоматического перезапуска локального экземпляра приложения, в случае его отказа. 

### Спецификация автоматической оценки решения

#### Штатное состояние инфраструктуры 47%
Базовые проверки на выполнение условий доступности, такие как:

- Обеспечение доступа к внешним системам 8%
- Межрегиональная связность 17%
- Доступность веб приложения 22%

#### Аварийное состояние инфраструктуры 53%
Создание условий, при которых нарушается функционирование избыточных элементов, для проверки выполнения уловий доступности, в том числе:

- Отказоустойчивость межрегиональной сети 20%
- Отказоустойчивость веб приложения 33%
